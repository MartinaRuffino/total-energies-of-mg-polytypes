# --- Makemakefile: machine dependent compilers and flags ---
#     machine mnemonic     : INTEL_IFORT
#     Use fortran compiler : ifort  (default = ifort)
#     Use C compiler       : gcc  (default = icc)
#
MNEMONIC = INTEL_IFORT
# ... C compiler and flags
CC = gcc
CFLAGS =  -DINTEL_IFORT -O -funroll-loops -w
#CFLAGS =  -DINTEL_IFORT -g
# ... Fortran compiler and flags, and linker ... for the INTEL IA32
FC = ifort
LK = ifort
FFLAGS = -O3 -cm -axW -WB
FFLAGS_LESS = -O2 -cm -WB
FFLAGS_LESS2 = -O1 -cm -WB
FFLAGS_LESS3 = -O0 -cm -WB
FFLAGS_NONE = -g -cm -WB
#FFLAGS =      -g -cm -WB
#FFLAGS_LESS = -g -cm -WB
#FFLAGS_LESS2 = -g -cm -WB
#FFLAGS_LESS3 = -g -cm -WB
#FFLAGS_NONE = -g -cm -WB
# --- Source directory.  Substitute second line if relative path desired ---
srcdir = @srcdir@
#srcdir = .
 
# --- Libraries LIBSLA,LIBLOC ---
LIBSLA = @LIBSLA@
LIBSLA_MPI = @LIBSLA_MPI@
LIBSLA_OMP = @LIBSLA_OMP@
LIBLOC = @LIBLOC@
LIBLOC_MPI = @LIBLOC_MPI@
LIBLOC_OMP = @LIBLOC_OMP@
LIBES = $(LIBSLA) $(LIBLOC)
LIBES_MPI = $(LIBSLA_MPI) $(LIBLOC_MPI)
LIBES_OMP = $(LIBSLA) $(LIBLOC_OMP)
 
# --- Make rules ---
.f.o: 
	$(FC) $(FFLAGS) -c $<
 
.c.o: 
	$(CC) $(CMFLAGS) -c $<
 
.f.a: 
	$(FC) $(FFLAGS) -c $<
	ar rv $@ $%
	rm -f $%
 
.c.a: 
	$(CC) $(CMFLAGS) -c $<
	ar rv $@ $%
	rm -f $%
 
# --- Shell variables to be supplied by configure ---
SHELL = @SHELL@
RANLIB = @RANLIB@
# ... ccomp related
CCOMP = @CCOMP@
CCOMPDIR = @CCOMPDIR@
CCOMP_SW = @CCOMP_SW@
# ... for compilers such as xlf that output numbers 0.nnn as .nnn
ADD0 = @ADD0@
POSZER = @POSZER@
# ... Compiler extensions
FC_IS_F90 = @FC_IS_F90@
FC_AUTOARRAY = @FC_AUTOARRAY@
FC_POINTER = @FC_POINTER@
# ... Fortran-C linkage
FC_UPPERCASE = @FC_UPPERCASE@
FC_UNDERSCORE = @FC_UNDERSCORE@
NOPASSEDARGS = @NOPASSEDARGS@
CMAIN = @CMAIN@

CMFLAGS = $(CFLAGS) -DFC_UNDERSCORE=@FC_UNDERSCORE@ -DFC_UPPERCASE=@FC_UPPERCASE@ -DNOPASSEDARGS=@NOPASSEDARGS@ -DCMAIN=@CMAIN@ -DNARGFCALL=@NARGFCALL@ -DADD_TO_NARGFCALL=@ADD_TO_NARGFCALL@ -DARGFCALL=@ARGFCALL@
