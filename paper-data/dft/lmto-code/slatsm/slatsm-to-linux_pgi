echo '   ' slatsm-to-linux_pgi: linux-pgi-specific, platform-independent customization

echo rename derfc and use PGF inline function
cat derfc.f | sed 's/function derfc/function xxderf/' > xx.f
mv xx.f derfc.f

echo PGF F90 allocate does not seem to work, but POINTER does ... workaround with
echo ccomp -uF90 -dPOINTER symvec.for symvec.f
ccomp -uF90 -dPOINTER symvec.for symvec.f

# echo cp tests/tysbnv-PGI.f tests/tysbnv.f
# cp tests/tysbnv.f tests/tysbnv.f-o
# cp tests/tysbnv-PGI.f tests/tysbnv.f

# echo ccomp LINUX_PGI - specific code
# foreach i ( `egrep -l '^[Cc]#.*if.*LINUX_PGI' *.f` )
#   mv $i $i~ ; ccomp -uLINUX_PGI -dLINUX_PGI $i~ $i
# end

#echo '   ' slatsm-to-linux_pgi: use RIEEE d1mach
#mv d1mach.f d1mach.f~ ; ccomp -uIEEE -uRIEEE -uVANILLA -dRIEEE d1mach.f~ d1mach.f 

# echo '   ' slatsm-to-linux_pgi: uncommenting files with quadratic precision, files: \
#      `egrep -l '^[Cc]#(ifdef[Cc]|ifndef |elseif[Cc]).*NOQUAD' *.f`
# foreach i ( `egrep -l '^[Cc]#(ifdef[Cc]|ifndef |elseif[Cc]).*NOQUAD' *.f` )
#   rm -f xx.f ; ccomp -uNOQUAD $i xx.f
#   ccomp -dNOQUAD xx.f $i; rm -f xx.f
# end
# rm -f xx.f

#if ( -e /usr/lib/libatlas.a) then
# echo ' '
#echo '   ' 'slatsm-to-linux_pgi: found /usr/lib/libatlas.a ... remove BLAS3 files'
# echo rm -f dgemm.f dtrmm.f dtrsm.f zgemm.f zher2k.f ztrmm.f ztrsm.f
# rm -f dgemm.f dtrmm.f dtrsm.f zgemm.f zher2k.f ztrmm.f ztrsm.f
#endif

# if ($?F77) then
#   if ("$F77" == "pgf90") source slatsm-with-f90
#   endif
# endif
